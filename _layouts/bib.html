---
---

{% if entry.abbr %}
  {% if site.data.venues[entry.abbr] %}
    <abbr>[<a href="{{site.data.venues[entry.abbr].url}}" target="_blank">{{entry.abbr}}</a>]</abbr>
  {% else %}
    <abbr>[{{entry.abbr}}]</abbr>
  {% endif %}
{% endif %}

<div id="{{entry.key}}">
  {% if entry.type == "thesis" %}
    {{reference}}
  {% else %}
    <span class="title">{{entry.title}}</span>
    <span class="author">
      {% for author in entry.author_array %}
      <!-- only one author -->
        {% if forloop.length == 1 %}
          {% if author.last == site.scholar.last_name and author.first == site.scholar.first_name %}
            <em>{{author.first}} {{author.last}}</em>
          {% else %}
            {{author.first}} {{author.last}}
          {% endif %}
        {% else %}
        <!-- else, for items not the last in the list -->
          {% unless forloop.last %}
            {% if author.last == site.scholar.last_name and author.first == site.scholar.first_name %}
              <em>{{author.first}} {{author.last}}</em>,
            {% else %}
              {% if site.data.coauthors[author.last][author.first] %}
                <a href="{{site.data.coauthors[author.last][author.first].url}}" target="_blank">{{author.first}} {{author.last}}</a>, 
              {% else %}
                {{author.first}} {{author.last}},
              {% endif %}
            {% endif %}
          {% else %}
          <!-- for the last item in the list -->
            {% if author.last == site.scholar.last_name and author.first == site.scholar.first_name %}
              and <em>{{author.first}} {{author.last}}</em>
            {% else %}
              {% if site.data.coauthors[author.last][author.first] %}
                and <a href="{{site.data.coauthors[author.last][author.first].url}}" target="_blank">{{author.first}} {{author.last}}</a> 
              {% else %}
                and {{author.first}} {{author.last}}
              {% endif %}
            {% endif %}
          {% endunless %}
        {% endif %}
      {% endfor %}
    </span>

    <span class="periodical">
    {% if entry.type == "article" %}
      <em>{{entry.journal}}</em>
    {% elsif entry.type == "inproceedings" %}
      <em>In {{entry.booktitle}}</em>
    {% endif %}
    {% if entry.note %}
      (<ins>{{entry.note}}</ins>)
    {% endif %}
    </span>
  {% endif %}

  <span class="links">
  {% if entry.abstract %}
    [<a class="abstract">abstract</a>]
  {% endif %}
  {% if entry.arxiv %}
    [<a href="http://arxiv.org/abs/{{ entry.arxiv }}" target="_blank">arxiv</a>]
  {% endif %}
  {% if entry.html %}
    [<a href="{{ entry.html }}" target="_blank">html</a>]
  {% endif %}
  {% if entry.pdf %}
    [<a href="{{ entry.pdf | prepend: '/assets/pdf/' | prepend: site.baseurl | prepend: site.url }}" target="_blank">pdf</a>]
  {% endif %}
  {% if entry.url %}
    [<a href="{{entry.url}}" target="_blank">web</a>]
  {% endif %}
  {% if entry.supp %}
    [<a href="{{ entry.supp | prepend: '/assets/pdf/' | prepend: site.baseurl | prepend: site.url }}" target="_blank">supp</a>]
  {% endif %}
  {% if entry.poster %}
    [<a href="{{ entry.poster | prepend: '/assets/pdf/' | prepend: site.baseurl | prepend: site.url }}" target="_blank">poster</a>]
  {% endif %}
  {% if entry.slides %}
    [<a href="{{ entry.slides | prepend: '/assets/pdf/' | prepend: site.baseurl | prepend: site.url }}" target="_blank">slides</a>]
  {% endif %}
  {% if entry.dataset %}
    [<a href="{{ entry.dataset }}" target="_blank">data</a>]
  {% endif %}
  {% if entry.code %}
    [<a href="{{ entry.code }}" target="_blank">code</a>]
  {% endif %}
  {% if entry.press %}
    [<a href="{{ entry.press }}" target="_blank">press</a>]
  {% endif %}
  </span>

  <!-- Hidden abstract block -->
  {% if entry.abstract %}
  <span class="abstract hidden">
    <p>{{ entry.abstract }}</p>
  </span>
  {% endif %}

</div>
